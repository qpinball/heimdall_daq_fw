[meta]
# Configuration file version - used for compatibility checking
# Valid values: 1-7 (current version)
ini_version = 7
# Name identifier for this configuration profile
# Valid values: any string (max 16 characters)
config_name = pinball_elrs

[hw]
# Hardware platform identifier
# Valid values: kraken5, k5, kerberos, etc.
name = kraken5
# Unique unit identifier for this hardware instance
# Valid values: any non-negative integer
unit_id = 0
# IOO (Input/Output Option) type configuration
# Valid values: any non-negative integer
ioo_type = 0
# Number of RF channels available on the hardware
# Valid values: positive integer (must match available hardware)
num_ch = 5
# Bias tee enable flags for each channel (0=disabled, 1=enabled)
# Bias tees provide DC power to active antennas
# Valid values: comma-separated list of 0 or 1, one per channel
en_bias_tee = 0,0,0,0,0

[daq]
# Logging verbosity level (0=minimal, 10=maximum detail)
# Valid values: 0, 1, 2, 3, 4, 5
log_level = 5
# Size of the data acquisition buffer in samples
# Larger buffers provide more stable data flow but use more memory
# Valid values: positive integer, must be power of 2
daq_buffer_size = 262144
# Center frequency for RF reception in Hz (915 MHz - ELRS frequency)
# Valid values: positive integer (typical range: 24MHz - 1.7GHz)
center_freq = 915000000
# ADC sampling rate in samples per second (2.4 MSPS)
# Valid values: positive integer (typical: 1-10 MSPS)
sample_rate = 2400000
# RF gain setting in dB (0 = automatic gain control)
# Valid values: 0, 9, 14, 27, 37, 77, 87, 125, 144, 157, 166, 197, 207, 229, 254, 280, 297, 328, 338, 364, 372, 386, 402, 421, 434, 439, 445, 480, 496
gain = 0
# Enable noise source counter for calibration
# Valid values: 0 (disabled), 1 (enabled)
en_noise_source_ctr = 1
# Serial number for the counter channel
# Valid values: integer matching available hardware serial numbers
ctr_channel_serial_no = 1000

[pre_processing]
# Coherent Processing Interval size in samples
# Determines how much data is processed together for FFT operations
# Valid values: positive integer
cpi_size = 262144
# Decimation ratio for sample rate reduction
# 1 = no decimation, higher values reduce sample rate
# Valid values: positive integer (must be <= fir_tap_size if > 1)
decimation_ratio = 1
# FIR filter relative bandwidth (0.1 = 10% = ~240 kHz for ELRS)
# Controls the passband width of the digital filter
# Valid values: float in range (0, 1] (0.1 = 10% of sample rate)
fir_relative_bandwidth = 0.1
# Number of taps in the FIR filter (64 for good narrowband filtering)
# More taps provide better filter response for narrowband signals
# Valid values: positive integer (must be > decimation_ratio if > 1)
fir_tap_size = 64
# Window function for FIR filter design
# Valid values: boxcar, triang, blackman, hamming, hann, bartlett, flattop, parzen, bohman, blackmanharris, nuttall, barthann
fir_window = hann
# Enable filter reset between processing blocks
# Valid values: 0 (disabled), 1 (enabled)
en_filter_reset = 0

[calibration]
# Correlation size for calibration calculations in samples
# Valid values: positive integer
corr_size = 65536
# Standard channel index used as reference for calibration
# Valid values: non-negative integer (0 to num_ch-1)
std_ch_ind = 0
# Enable I/Q calibration (1=enabled, 0=disabled)
# Valid values: 0 (disabled), 1 (enabled)
en_iq_cal = 1
# Amplitude calibration mode
# Valid values: default, disabled, channel_power
amplitude_cal_mode = channel_power
# Enable initial gain tuning during startup
# Valid values: 0 (disabled), 1 (enabled)
en_gain_tune_init = 0
# Interval between gain lock operations in frames
# Valid values: non-negative integer (0 = disabled)
gain_lock_interval = 0
# Enable unified gain control across all channels
# Valid values: 0 (disabled), 1 (enabled)
unified_gain_control = 0
# Require manual intervention for track lock failures
# Valid values: 0 (disabled), 1 (enabled)
require_track_lock_intervention = 0
# Calibration tracking mode (0=off, 1=continuous, 2=periodic)
# Valid values: 0 (off), 1 (continuous), 2 (periodic)
cal_track_mode = 1
# Interval between calibration frames in samples
# Valid values: positive integer
cal_frame_interval = 687
# Number of calibration bursts per frame
# Valid values: positive integer
cal_frame_burst_size = 10
# Amplitude tolerance for calibration in dB
# Valid values: positive integer
amplitude_tolerance = 5
# Phase tolerance for calibration in degrees
# Valid values: positive integer
phase_tolerance = 2
# Maximum number of synchronization failures before error
# Valid values: positive integer
maximum_sync_fails = 10
# Source for I/Q adjustment
# Valid values: explicit-time-delay, touchstone
iq_adjust_source = explicit-time-delay
# Amplitude adjustment values for each channel in dB
# Valid values: comma-separated list of floats (num_ch-1 values)
iq_adjust_amplitude = 0,0,0,0
# Time delay adjustment values for each channel in nanoseconds
# Valid values: comma-separated list of floats (num_ch-1 values)
iq_adjust_time_delay_ns = 0, 0, 0, 0

[adpis]
# Enable ADPIS (Advanced Digital Processing Interface System)
# Valid values: 0 (disabled), 1 (enabled)
en_adpis = 0
# ADPIS processing size in samples
# Valid values: positive integer
adpis_proc_size = 8192
# Initial ADPIS gains for each channel
# Valid values: comma-separated list of integers from valid_gains list, one per channel
adpis_gains_init = 0,0,0,0,0

[data_interface]
# Output data interface type
# Valid values: eth (ethernet), shmem (shared memory)
out_data_iface_type = shmem

